/*! fotofrafica 2015-02-09 */
function setSquareHeight(){var a=$(window).width();$(".j-square").height(a)}function runMasonry(a,b){var c=$(a).masonry();c.imagesLoaded(function(){c.masonry({itemSelector:b}),c.masonry("reloadItems"),c.masonry("layout")})}function getHeaderHeight(){return $(".header-wrapper").height()}function getWindowHeight(){return $(window).height()}function setWindowHeight(a){$(a).height(getWindowHeight())}function setPadding(a,b,c){$(a).css("padding-"+b,c)}function setHeaderHeightPadding(a,b){var c=getHeaderHeight();$(a).css("padding-"+b,c)}function setHeightMinusElement(a,b,c){$.each($(a),function(){var a=$(this).closest(b),d=a.find(c+":first"),e=(a.outerHeight(),d.outerHeight()),f=getWindowHeight()-e;$(this).height(f)})}function showFilters(a){if($(a).hasClass("tab-filter--active"))return $(".tab-filter").removeClass("tab-filter--active"),void $(".filters__content > div").css("height","0px").removeClass("padding--small");$(".tab-filter").removeClass("tab-filter--active"),$(a).addClass("tab-filter--active");var b=$(a).data("filter");$(".filters__content > div").css("height","0px").removeClass("padding--small"),$(".filters__content .filter-"+b).addClass("padding--small").height("auto")}function addFilter(a){var b=$(a).clone();if($(a).hasClass("filter--active")){$(a).removeClass("filter--active"),b.hasClass("filter--info")&&b.find("span").remove();var c=b.html();return void $(".filters__results .filter:contains("+c+")").remove()}$(a).addClass("filter--active"),b.addClass("filter--active"),b.hasClass("filter--info")&&(b.removeClass("filter--info"),b.find("span").remove()),b.appendTo(".filters__results")}function removeFilter(a){var b=$(a).html();$(a).remove(),$(".filters__content .filter:contains("+b+")").removeClass("filter--active")}function getFilteredResults(){var a=$(".filters__results .filter--active"),b=[];return $.each(a,function(a,c){var d={},e=$(c).data("type"),f=$(c).data("value");d.type=e,d.value=f,clearGrid(),b.push(d)}),b}function clearGrid(){$(".results").empty()}function fixedHeader(){var a=getHeaderHeight(),b=scrollY();if(b>=a){var c=$(window).outerHeight(),d=c-a;$(".header-wrapper").addClass("header-wrapper--fixed").css("top",d),setHeaderHeightPadding(".footer-wrapper","bottom")}else $(".header-wrapper").removeClass("header-wrapper--fixed").css("top",0),setPadding(".footer-wrapper","bottom",0)}function scrollY(){return $(".content-wrapper").scrollTop()}function openLightbox(){$(".cycle-slideshow").cycle({slides:".image-single",fx:"scrollHorz",swipe:"true",timeout:"0",centerHorz:"true",centerVert:"true"}),$(".lightbox").show()}function advancedSearch(a,b,c){console.log(a);var d={};d.action="advanced_search",d.post_type=a,d.limit=c,d.filters="",b.length>0&&(d.filters=b),$.post(ajax_url,d,function(b){$(".loader").hide(),console.log(b);var c,d=$.parseJSON(b);$.each(d,function(b,d){switch(a){case"fotografias":c=get_html_colecciones(d);break;case"fotografos":c=get_html_fotografos(d);break;case"eventos":c=get_html_eventos(d)}$(c).appendTo(".results")}),"fotografos"!==a&&runMasonry(".results",".result")}).fail(function(a){console.log(a)})}function get_html_colecciones(a){var b='<article class="[ result ] [ columna xmall-6 medium-4 large-3 ] [ margin-bottom-small ]"> 		<div class="[ relative ]"> 			<a class="[ block ]" href="#"> 				<img src="'+a.img_url+'" class="[ image-responsive ]" /> 				<span class="[ opacity-gradient--full ]"></span> 				<div class="[ media-info media-info--small ] [ xmall-12 ]"> 					<p class="[ text-center ]"> 						<a href="#" class="[ media--info__author ]">'+a.autor+'</a> 						, <a href="#" class="[ media--info__name ]">'+a.titulo+'</a> 						, de la serie <span class="[ media--info__series ]">'+a.coleccion+'</span> 						, <span class="[ media--info__place ]">'+a.lugar+'</span> 						, <span class="[ media--info__date ]">'+a.ano+"</span> 					</p> 				</div> 			</a> 		</div> 	</article>";return b}function get_html_fotografos(a){var b=' <a href="'+a.url+'" class="[ result ][ button button--hollow button--small button--dark ][ inline-block margin-bottom--small ]">'+a.fotografo+"</a> &nbsp;&nbsp;";return b}function get_html_eventos(a){var b='<article class="[ result ] [ columna xmall-6 medium-4 large-3 ] [ margin-bottom-small ]"> 		<div class="[ relative ]"> 			<a class="[ block ]" href="#"> 				<img src="'+a.img_url+'" class="[ image-responsive ]" /> 				<span class="[ opacity-gradient--full ]"></span> 				<div class="[ media-info media-info--small ] [ xmall-12 ]"> 					<p class="[ text-center ]"> 						<a href="#" class="[ media--info__name ]">'+a.titulo+'</a> 					</p> 					<p class="[ text-center ]"> 						del '+a.fec_ini+" al "+a.fec_fin+" 					</p> 				</div> 			</a> 		</div> 	</article>";return b}!function(a){"use strict";a(function(){new mlPushMenu(document.getElementById("mp-menu"),document.getElementById("trigger-xmall")),new mlPushMenu(document.getElementById("mp-menu"),document.getElementById("trigger-medium"))})}(jQuery);var $=jQuery.noConflict();